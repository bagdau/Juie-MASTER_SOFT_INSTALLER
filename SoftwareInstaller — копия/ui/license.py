# ui/license.py

import customtkinter as ctk

LICENSE_TEXT = """
Лицензионное соглашение

Пожалуйста, внимательно ознакомьтесь с данным лицензионным соглашением перед использованием программного обеспечения KassaWrapper.

1. Назначение:
   KassaWrapper является профессиональным кассовым программным обеспечением, предназначенным для обработки продаж, управления оплатами и ведения учёта в торговых точках и организациях.

2. Условия использования:
   - Программа предоставляется пользователю по лицензии, не подлежащей передаче.
   - Использование разрешено только в рамках легальной хозяйственной деятельности.
   - Пользователь несёт ответственность за корректность введённых данных и операций.

3. Ограничения:
   - Запрещается модифицировать, декомпилировать, распространять или использовать программу в целях, нарушающих законодательство Республики Казахстан.
   - Любое несанкционированное копирование или тиражирование запрещено.

4. Ответственность:
   - ТОО Amanbay Tech не несёт ответственности за прямые или косвенные убытки, возникшие в результате использования или невозможности использования программы.
   - Пользователь обязуется самостоятельно обеспечить резервное копирование данных.

5. Авторские права:
   - Все права на программное обеспечение KassaWrapper принадлежат ТОО Amanbay Tech.
   - Использование логотипа, названия и исходного кода без письменного согласия запрещено.

Нажимая кнопку "Я принимаю условия", вы подтверждаете согласие со всеми пунктами данного лицензионного соглашения.
"""


class LicenseScreen(ctk.CTkToplevel):
    def __init__(self, on_accept):
        super().__init__()
        self.on_accept = on_accept
        self.title("Лицензионное соглашение")
        self.geometry("750x500")
        self.resizable(False, False)

        self.build_interface()

    def build_interface(self):
        ctk.CTkLabel(
            self,
            text="Лицензионное соглашение",
            font=("Segoe UI", 22, "bold")
        ).pack(pady=10)

        self.textbox = ctk.CTkTextbox(self, width=700, height=350, font=("Segoe UI", 13))
        self.textbox.insert("0.0", LICENSE_TEXT)
        self.textbox.configure(state="disabled")
        self.textbox.pack(pady=10)

        self.accept_button = ctk.CTkButton(
            self,
            text="Я принимаю условия",
            command=self.accept
        )
        self.accept_button.pack(pady=20)

    def accept(self):
        self.destroy()
        self.on_accept()
